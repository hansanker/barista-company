<div class="col s12">
  <h3 class="center">Messages</h3>
  <form #messageForm="ngForm" >
    <div class="row">
      <div class="input-field col m10 s12">
        <textarea id="message" name="message" class="materialize-textarea"
                  [(ngModel)]="message" placeholder="Enter your message" required></textarea>
      </div>
      <div class="input-field col m2 s12">
        <a class="waves-effect waves-light waves-block btn orange darken-2" (click)="sendMessage(messageForm.value)"
                [ngClass]="{disabled: !messageForm.valid}">Send</a>
      </div>
    </div>
  </form>
  <div class="message-list" *ngIf="messages">
    <div class="card  lighten-5" *ngFor="let message of messages"
         [ngClass]="{'teal': message.user == userId, 'orange': message.user != userId}">
      <div class="card-content">
        <div class="row">
          <div class="col s6">
            {{message.name}}
          </div>
          <div class="col s6">
            <span class="time right">{{message.time/1000 | amFromUnix| amTimeAgo}}</span>
          </div>
        </div>
        <p>{{message.text}}</p>
      </div>
    </div>
  </div>
</div>
